\subsection{Bubble Sort}

\subsubsection{Ý tưởng}

Trong thuật toán này, dãy các phần tử sẽ được duyệt từ đầu mảng đến 
cuối mảng, nếu hai phần tử kề nhau bị sai thứ tự thì đổi chỗ của chúng 
cho nhau. Sau lượt duyệt như vậy, phần tử lớn nhất sẽ được chuyển về 
vị trí cuối mảng giống như tên gọi - “nổi bọt”. Sau đó ta tiếp tục 
duyệt từ đầu mảng đến vị trí kế cuối mảng,... cứ như vậy cho đến khi 
mảng được sắp xếp.

\subsubsection{Mã giả}

\begin{algorithm}[H]
	\caption{Bubble Sort}
	\SetKwFunction{BubbleSort}{BubbleSort}
	\SetKwProg{Fn}{procedure}{:}{}
	\Fn{\BubbleSort{a\KwSty{[ ]}, n}}{
		\For{$i \gets 0$ \KwTo $n - 2$}{
			\For{$j \gets 0$ \KwTo $n - i - 2$}{
				\If{$a[j] > a[j + 1]$}{
					swap($a[j]$, $a[j + 1]$) \tcp{Nếu sai vị trí thì hoán vị}
				}
			}
		}
	}
\end{algorithm}

\subsubsection{Ví dụ}

\begin{tikzpicture}[node distance=0cm, scale=0.8, font=\sffamily, every node/.style={minimum width=0.8cm, minimum height=0.8cm, outer sep=0pt, anchor = west}, line join=miter, line cap=rect]
	
	% Trạng thái ban đầu
	\node[font=\rmfamily] at (0, 0) {Giả sử ta có mảng ban đầu với $n=5$ như sau:};
	\node[draw, fill=white] at (11, 0) {5};
	\node[draw, fill=white] at (12, 0) {3};
	\node[draw, fill=white] at (13, 0) {8};
	\node[draw, fill=white] at (14, 0) {6};
	\node[draw, fill=white] at (15, 0) {2};
	
	% Lượt duyệt 1
	% Cặp 1
	\node[font=\rmfamily] at (0, -1) {\bfseries Lượt duyệt 1:};
	\node[draw, fill=yellow] at (1, -3.5) {5};
	\node[draw, fill=yellow] at (2, -3.5) {3};
	\node[draw, fill=white] at (3, -3.5) {8};
	\node[draw, fill=white] at (4, -3.5) {6};
	\node[draw, fill=white] at (5, -3.5) {2};
	\draw[<-, line width=0.6mm, shorten <=0pt] (2.5, -3) -- (2.5, -2.5);
	\draw[line width=0.6mm] (2.5, -2.5) -- (1.5, -2.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (1.5, -2.5) -- (1.5,-3);
	\node[font=\rmfamily, anchor=center] at (2, -2) {hoán vị};
	
	\draw[->, line width=0.6mm] (7, -3.5) -- (8, -3.5);
	
	% Cặp 2
	\node[draw, fill=white] at (9, -3.5) {3};
	\node[draw, fill=yellow] at (10, -3.5) {5};
	\node[draw, fill=yellow] at (11, -3.5) {8};
	\node[draw, fill=white] at (12, -3.5) {6};
	\node[draw, fill=white] at (13, -3.5) {2};
	\draw[<-, line width=0.6mm, shorten <=0pt] (11.5, -3) -- (11.5, -2.5);
	\draw[line width=0.6mm] (11.5, -2.5) -- (10.5, -2.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (10.5, -2.5) -- (10.5,-3);
	\node[font=\rmfamily, anchor=center] at (11, -2) {không hoán vị};
	
	\draw[->, line width=0.6mm] (15, -3.5) -- (16, -3.5);
	
	% Cặp 3
	\node[draw, fill=white] at (17, -3.5) {3};
	\node[draw, fill=white] at (18, -3.5) {5};
	\node[draw, fill=yellow] at (19, -3.5) {8};
	\node[draw, fill=yellow] at (20, -3.5) {6};
	\node[draw, fill=white] at (21, -3.5) {2};
	\draw[<-, line width=0.6mm, shorten <=0pt] (20.5, -3) -- (20.5, -2.5);
	\draw[line width=0.6mm] (20.5, -2.5) -- (19.5, -2.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (19.5, -2.5) -- (19.5,-3);
	\node[font=\rmfamily, anchor=center] at (20, -2) {hoán vị};
	
	\draw[->, line width=0.6mm] (7, -6.5) -- (8, -6.5);
	
	% Cặp 4
	\node[draw, fill=white] at (9, -6.5) {3};
	\node[draw, fill=white] at (10, -6.5) {5};
	\node[draw, fill=white] at (11, -6.5) {6};
	\node[draw, fill=yellow] at (12, -6.5) {8};
	\node[draw, fill=yellow] at (13, -6.5) {2};
	\draw[<-, line width=0.6mm, shorten <=0pt] (13.5, -6) -- (13.5, -5.5);
	\draw[line width=0.6mm] (13.5, -5.5) -- (12.5, -5.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (12.5, -5.5) -- (12.5,-6);
	\node[font=\rmfamily, anchor=center] at (13, -5) {hoán vị};
	
	\draw[->, line width=0.6mm] (15, -6.5) -- (16, -6.5);
	
	% số 8 đúng vị trí
	\node[draw, fill=white] at (17, -6.5) {3};
	\node[draw, fill=white] at (18, -6.5) {5};
	\node[draw, fill=white] at (19, -6.5) {6};
	\node[draw, fill=white] at (20, -6.5) {2};
	\node[draw, fill=blue] at (21, -6.5) {8};
	
\end{tikzpicture}

%\pagebreak

\begin{tikzpicture}[node distance=0cm, scale=0.8, font=\sffamily, every node/.style={minimum width=0.8cm, minimum height=0.8cm, outer sep=0pt, anchor = west}, line join=miter, line cap=rect]
	% Lượt duyệt 2
	% Cặp 1
	\node[font=\rmfamily] at (0, 0) {\bfseries Lượt duyệt 2:};
	\node[draw, fill=yellow] at (1, -2.5) {3};
	\node[draw, fill=yellow] at (2, -2.5) {5};
	\node[draw, fill=white] at (3, -2.5) {6};
	\node[draw, fill=white] at (4, -2.5) {2};
	\node[draw, fill=blue] at (5, -2.5) {8};
	\draw[<-, line width=0.6mm, shorten <=0pt] (2.5, -2) -- (2.5, -1.5);
	\draw[line width=0.6mm] (2.5, -1.5) -- (1.5, -1.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (1.5, -1.5) -- (1.5,-2);
	\node[font=\rmfamily, anchor=center] at (2, -1) {không hoán vị};
	
	\draw[->, line width=0.6mm] (7, -2.5) -- (8, -2.5);
	
	% Cặp 2
	\node[draw, fill=white] at (9, -2.5) {3};
	\node[draw, fill=yellow] at (10, -2.5) {5};
	\node[draw, fill=yellow] at (11, -2.5) {8};
	\node[draw, fill=white] at (12, -2.5) {6};
	\node[draw, fill=blue] at (13, -2.5) {2};
	\draw[<-, line width=0.6mm, shorten <=0pt] (11.5, -2) -- (11.5, -1.5);
	\draw[line width=0.6mm] (11.5, -1.5) -- (10.5, -1.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (10.5, -1.5) -- (10.5,-2);
	\node[font=\rmfamily, anchor=center] at (11, -1) {không hoán vị};
	
	\draw[->, line width=0.6mm] (15, -2.5) -- (16, -2.5);
	
	% Cặp 3
	\node[draw, fill=white] at (17, -2.5) {3};
	\node[draw, fill=white] at (18, -2.5) {5};
	\node[draw, fill=yellow] at (19, -2.5) {6};
	\node[draw, fill=yellow] at (20, -2.5) {2};
	\node[draw, fill=blue] at (21, -2.5) {8};
	\draw[<-, line width=0.6mm, shorten <=0pt] (20.5, -2) -- (20.5, -1.5);
	\draw[line width=0.6mm] (20.5, -1.5) -- (19.5, -1.5);
	\draw[->, line width=0.6mm, shorten >=0pt] (19.5, -1.5) -- (19.5,-2);
	\node[font=\rmfamily, anchor=center] at (20, -1) {hoán vị};
	
	\draw[->, line width=0.6mm] (15, -4.5) -- (16, -4.5);
	
	% số 6,8 đúng vị trí
	\node[draw, fill=white] at (17, -4.5) {3};
	\node[draw, fill=white] at (18, -4.5) {5};
	\node[draw, fill=white] at (19, -4.5) {2};
	\node[draw, fill=blue] at (20, -4.5) {6};
	\node[draw, fill=blue] at (21, -4.5) {8};
	
	\node[font=\rmfamily] at (0, -6) {Cứ như vậy cho đến khi mảng được sắp xếp:};
	\node[draw, fill=blue] at (11, -6) {2};
	\node[draw, fill=blue] at (12, -6) {3};
	\node[draw, fill=blue] at (13, -6) {5};
	\node[draw, fill=blue] at (14, -6) {6};
	\node[draw, fill=blue] at (15, -6) {8};
	
\end{tikzpicture}

\subsubsection{Độ phức tạp thuật toán}

\begin{itemize}
    \item Độ phức tạp thời gian
    
    Trong thuật toán này, có $n-1$ lần lặp đối với biến $i$, mỗi lần 
    sẽ đưa phần tử lớn nhất trong đoạn $a\left[0..n-i-1\right]$ về 
    vị trí $n-i-1$. Với lần lặp thứ $i$, ta thực hiện $n-i$ 
    thao tác so sánh. Do đó, tổng số phép so sánh thực hiện là:
    
    \begin{equation*}
        \left(n-1\right)+\left(n-2\right)+\ldots+2+1
        =\frac{n\left(n-1\right)}{2}\approx n^2
    \end{equation*}
        
    Có thể thấy thuật toán không phụ thuộc vào phân bố ban đầu của dữ 
    liệu, ta có:
    
    \begin{itemize}[label=$\circ$]
        \item Trường hợp tốt nhất: $O\left(n^2\right)$.
        \item Trường hợp xấu nhất: $O\left(n^2\right)$.
        \item Trường hợp trung bình: $O\left(n^2\right)$.
    \end{itemize}
    
    \item Độ phức tạp không gian: $O\left(1\right)$.
\end{itemize}